# MetaNovel-Engine

![Version](https://img.shields.io/badge/version-v0.0.18-blue.svg)
![Python](https://img.shields.io/badge/python-3.8+-green.svg)
![License](https://img.shields.io/badge/license-MIT-yellow.svg)

> **AI辅助小说创作引擎** - 结构化、分阶段的长篇小说创作工具

## 💡 为什么选择 MetaNovel-Engine？

- **🎯 省钱高效**：结构化创作流程，避免重复生成，大幅节省AI费用
- **📚 多项目管理**：同时创作多部小说，数据完全独立，不会混乱
- **🎨 个性化配置**：每个项目独立的AI提示词，科幻、言情、悬疑各有专属风格
- **🔄 渐进式创作**：从一句话想法到完整小说，7步骤层层递进，思路清晰
- **🌍 完整世界观**：角色、场景、道具统一管理，保持故事连贯性
- **🤖 智能体验**：AI自动分析主题推荐作品类型，多版本生成供用户选择

## 🚀 5分钟快速开始

### 1. 安装
```bash
git clone https://github.com/hahagood/MetaNovel-Engine.git
cd MetaNovel-Engine
pip install -r requirements.txt
```

### 2. 配置API（首次使用）
将 `.env.example` 复制为 `.env`，填入你的OpenRouter API密钥：
```bash
cp .env.example .env
# 编辑 .env 文件，填入：OPENROUTER_API_KEY=your_api_key_here
```

### 3. 运行程序
```bash
python meta_novel_cli.py
```

### 4. 开始创作
运行程序后，选择"创建新项目"，按照7步流程开始你的小说创作之旅！

## 📝 创作流程：7步工作流

| 步骤 | 功能 | 用途 |
|------|------|------|
| 1️⃣ | **设置主题** | 确立一句话核心创意 |
| 2️⃣ | **智能扩展主题** | AI分析推荐作品类型，生成多版本供选择 |
| 3️⃣ | **世界设定** | 创建角色、场景、道具 |
| 4️⃣ | **故事大纲** | 撰写500-800字的故事框架 |
| 5️⃣ | **分章细纲** | 分解为5-10个章节大纲 |
| 6️⃣ | **章节概要** | 每章300-500字详细概要 |
| 7️⃣ | **生成正文** | 生成2000-4000字完整章节 |

*每个步骤都可以查看、编辑和重新生成，确保创作质量*

## ⚙️ 核心功能

### 📁 项目管理
- 无限创建小说项目，数据完全隔离
- 快速切换不同项目，继续创作
- 自动备份，防止数据丢失

### 🎨 个性化AI
- 每个项目独立的提示词配置
- 针对不同题材调整AI创作风格
- 支持自定义AI模型和参数

### 🤖 智能创作体验
- **智能主题分析**：AI自动分析一句话主题，推荐最适合的作品类型（科幻、奇幻、悬疑、情感等）
- **多版本生成**：基于用户创作意图，一次生成3个不同风格的故事构想供选择
- **强制参与机制**：要求用户表达创作意图，确保AI生成内容符合用户期望
- **模块化架构**：采用独立服务模块设计，便于功能扩展和维护

### 📤 导出功能
- **多样化导出选项**：支持单章节、章节范围（如1-3章）、整本小说导出
- **规范元数据格式**：自动生成包含作品名、导出时间、章节信息、字数统计的标准头部
- **智能范围选择**：支持多种范围格式输入（1-3、1,3、1 3等）
- **精确字数统计**：使用预存储的字数数据，确保统计准确性
- **用户友好界面**：统一的左对齐提示信息，提供清晰的操作指引

### 🔧 系统设置
- AI模型切换
- 网络代理配置
- 智能重试设置

## 🆘 常见问题

**Q: 需要什么API密钥？**

A: 需要OpenRouter的API密钥，支持多种AI模型，价格便宜。

**Q: 支持中文创作吗？**

A: 完全支持中文，所有提示词都已优化为中文创作。

**Q: 旧版本数据如何迁移？**

A: 运行 `python migrate_to_multi_project.py` 即可自动迁移。

## 📄 开源协议

本项目采用 MIT License 开源协议。

## 🚀 开始创作

**准备好开始你的AI辅助小说创作之旅了吗？**

1. 克隆项目：`git clone https://github.com/hahagood/MetaNovel-Engine.git`
2. 安装依赖：`pip install -r requirements.txt`
3. 配置API密钥
4. 运行：`python meta_novel_cli.py`
5. 创建你的第一个项目！

---

**让AI成为你最好的创作伙伴！** ✨