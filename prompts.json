{
  "theme_analysis": {
    "base_prompt": "你是一位资深的文学策划编辑，擅长分析题材并推荐合适的创作方向。请分析以下一句话主题，并推荐最适合的作品类型。\n\n原始主题：{one_line_theme}\n\n请基于主题的核心要素、潜在冲突、情感基调和故事可能性，推荐3-5种最适合的作品类型。每种类型都要说明为什么适合这个主题。\n\n可选的作品类型包括但不限于：\n- 科幻：未来世界、科技元素、思辨性\n- 奇幻：魔法世界、超自然元素、想象力\n- 悬疑：推理、谜团、紧张感\n- 惊悚：恐怖、心理压力、刺激\n- 情感：人际关系、内心世界、情感共鸣\n- 历史：特定时代、历史背景、文化底蕴\n- 现实：当代生活、社会议题、真实感\n- 冒险：探索、挑战、成长\n- 商战：商业竞争、职场、策略\n- 都市：城市生活、现代节奏、时尚\n- 武侠：江湖、武功、义气\n- 军事：战争、策略、荣誉\n- 校园：学校生活、青春、成长\n- 家庭：亲情、代际关系、温情\n\n请以JSON格式返回推荐结果：\n{{\n  \"recommended_genres\": [\n    {{\n      \"genre\": \"作品类型名称\",\n      \"reason\": \"推荐理由（简洁说明为什么这个类型适合该主题）\",\n      \"potential\": \"这个类型能发挥的故事潜力\"\n    }}\n  ],\n  \"primary_recommendation\": \"最推荐的类型\",\n  \"reasoning\": \"主要推荐理由\"\n}}\n\n只返回JSON，不要其他文字。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "theme_paragraph_variants": {
    "base_prompt": "你是一位经验丰富的小说家，擅长根据不同创作风格改写同一主题。请将以下一句话主题转化为3个不同风格的故事构想，每个都充满张力和可能性。\n\n原始主题：{one_line_theme}\n作品类型：{selected_genre}\n用户意图：{user_intent}\n\n请创作3个版本，每个版本都要：\n- 符合选定的作品类型特点\n- 体现用户的创作意图\n- 挖掘不同角度的冲突、悬念和情感深度\n- 暗示人物与环境的冲突、道具与命运的纠葛、场景与情节的呼应\n- 用{theme_paragraph_length}字左右的篇幅创造让人心跳加速的故事前景\n\n请以JSON格式返回3个版本：\n{{\n  \"variants\": [\n    {{\n      \"version\": \"版本A\",\n      \"focus\": \"这个版本的重点特色（如：心理层面、动作冒险、情感纠葛等）\",\n      \"content\": \"故事构想内容\"\n    }},\n    {{\n      \"version\": \"版本B\", \n      \"focus\": \"这个版本的重点特色\",\n      \"content\": \"故事构想内容\"\n    }},\n    {{\n      \"version\": \"版本C\",\n      \"focus\": \"这个版本的重点特色\", \n      \"content\": \"故事构想内容\"\n    }}\n  ]\n}}\n\n只返回JSON，不要其他文字。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "theme_paragraph": {
    "base_prompt": "你是一位经验丰富的小说家。请将以下一句话主题转化为一个充满张力和可能性的故事构想，让读者一看就想继续阅读下去。不要只是简单扩展，而要挖掘其中的冲突、悬念和情感深度。在构想中要暗示人物与环境的冲突、道具与命运的纠葛、场景与情节的呼应。\n\n原始主题：{one_line_theme}\n作品类型：{selected_genre}\n用户意图：{user_intent}\n\n请严格按照选定的作品类型风格来创作，同时充分体现用户的创作意图。确保故事构想完全符合该类型的特点和读者期待。用{theme_paragraph_length}字左右的篇幅，创造一个让人心跳加速的故事前景。直接输出故事构想，无需标题和说明。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "character_description": {
    "base_prompt": "你是一位擅长塑造立体人物的小说家。请为 '{char_name}' 创造一个活生生的角色，一个读者会关心其命运的人物。\n\n【重要】请严格基于以下故事背景和风格来设计角色：\n\n故事主题：{one_line_theme}\n\n故事背景：{story_context}\n\n请确保角色的设定完全符合故事的时代背景、世界观和整体风格。重点描述角色的本质特征，为后续故事发展保留充分空间：\n\n**核心要素：**\n- 基本外貌和气质特征\n- 深层性格特点和行为模式  \n- 成长背景和人生经历\n- 核心价值观和内在冲突\n- 特殊技能或天赋\n- 与故事主题的深层关联\n\n**避免过度具体化：**\n- 不要描述角色当前的具体处境或即时状态\n- 不要预设具体的情节发展或场景细节\n- 重点展现角色的潜在可能性，而非当下状况\n- 让角色特征能够在不同情境中灵活发挥\n\n【逻辑检查】请确保描述中的所有细节都符合基本常识和物理法则，避免逻辑矛盾。例如：材质的硬度、时间的顺序、因果关系等都应该合理。用{character_description_length}字左右，创造一个具有丰富发展潜力的角色。直接描述角色，无需标题。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "location_description": {
    "base_prompt": "你是一位善于营造氛围的小说家。请为 '{loc_name}' 创造一个充满生命力的场景，一个能够影响故事走向和角色情感的地方。\n\n【重要】请严格基于以下故事背景和风格来设计场景：\n\n故事主题：{one_line_theme}\n\n故事背景：{story_context}\n\n请确保场景的设定完全符合故事的时代背景、世界观和整体风格。重点描述场景的本质特征，为后续故事发展保留充分空间：\n\n**核心要素：**\n- 地理位置和基本环境特征\n- 建筑风格和空间布局\n- 历史背景和文化氛围\n- 固有的象征意义和情感色彩\n- 可能隐藏的秘密或特殊之处\n- 与故事主题的深层关联\n\n**避免过度具体化：**\n- 不要描述场景中当前正在发生的具体事件\n- 不要预设特定角色的即时行为或状态\n- 重点展现场景的潜在可能性和多重用途\n- 让场景能够适应不同的故事情节需要\n\n【逻辑检查】请确保场景描述中的地理、气候、建筑、生态等要素都符合现实逻辑，避免常识性错误。用{location_description_length}字左右，创造一个具有丰富故事潜力的场景。直接描述场景，无需标题。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "item_description": {
    "base_prompt": "你是一位善于运用象征的小说家。请为 '{item_name}' 创造一个充满故事性的道具，一个承载着情感、记忆或命运的物品。\n\n【重要】请严格基于以下故事背景和风格来设计道具：\n\n故事主题：{one_line_theme}\n\n故事背景：{story_context}\n\n请确保道具的设定完全符合故事的时代背景、世界观和整体风格。重点描述道具的本质特征，为后续故事发展保留充分空间：\n\n**核心要素：**\n- 外观特征和材质工艺\n- 历史来源和制作背景\n- 基本功能和使用方式\n- 象征意义和情感价值\n- 潜在的特殊属性或秘密\n- 与故事主题的深层关联\n\n**避免过度具体化：**\n- 不要描述道具当前的具体处境或即时状态\n- 不要预设道具与特定角色的当下关系\n- 重点展现道具的内在价值和多重可能性\n- 让道具能够在不同情境中发挥不同作用\n\n【逻辑检查】请确保道具的材质、工艺、功能等描述都符合基本常识，避免物理上不可能的特性。象征意义应该合理，不应与现实常识产生冲突。用{item_description_length}字左右，创造一个具有丰富故事潜力的道具。直接描述道具，无需标题。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "story_outline": {
    "base_prompt": "你是一位深谙人性的小说家，擅长挖掘角色内心的复杂动机。基于以下材料，构思一个情感真实、逻辑自洽的故事：\n\n核心主题：{one_line_theme}\n\n故事构想：{paragraph_theme}\n\n主要角色：{characters_info}\n\n请从角色的内在动机出发，构建一个故事框架。重点思考：\n\n**角色心理层面：**\n- 每个角色的核心需求和内在恐惧是什么？\n- 他们为什么会做出这样的选择？什么驱使着他们？\n- 角色的过去经历如何影响当前的决定？\n- 他们的价值观在面临考验时会如何变化？\n\n**故事逻辑层面：**\n- 事件的发生是否有充分的前因后果？\n- 角色的行为是否符合其性格和处境？\n- 环境和背景如何自然地施加压力或提供机会？\n- 问题的解决方式是否合理可信？\n\n**情感真实性：**\n- 避免为了戏剧效果而强行制造冲突\n- 让矛盾从角色的不同立场和需求中自然产生\n- 关注人物内心的矛盾和成长过程\n- 确保每个转折都有足够的心理铺垫\n\n【深度要求】不要满足于表面的情节安排，要深入挖掘角色行为背后的心理动机。让故事的推进来自角色内心的必然选择，而非外在的巧合安排。\n\n【逻辑检查】特别注意：角色动机的说服力、事件因果关系的合理性、情节发展的必然性。避免\"为了情节而情节\"的设计思路。用{story_outline_length}字左右，直接输出故事大纲。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "chapter_outline": {
    "base_prompt": "你是一位深谙故事结构的小说家，善于将复杂故事分解为自然流动的章节。基于以下信息，构建合理的章节架构：\n\n核心主题：{one_line_theme}\n\n故事大纲：{story_outline}\n\n角色信息：{characters_info}\n\n请创建5-10个章节，每个章节都应该：\n\n**内在逻辑：**\n- 从角色的内在需求和选择出发推进情节\n- 让章节的发展符合角色心理变化的自然节奏\n- 确保每章的事件都有充分的前因后果\n- 避免为了制造戏剧效果而强行安排情节\n\n**角色发展：**\n- 展现角色在面对问题时的真实反应\n- 让角色的成长和变化有说服力的心理基础\n- 关注角色之间关系的自然演变\n- 让角色的选择推动故事而非被动接受安排\n\n**节奏控制：**\n- 让章节的长短和密度符合故事的内在需要\n- 重视角色内心戏与外部行动的平衡\n- 让每章都有其存在的必然性，而非人为分割\n\n【深度思考】不要追求表面的戏剧效果，而要关注故事的内在逻辑和情感真实性。每个章节都应该是角色内心必然选择的外在表现。\n\n【逻辑检查】确保时间线合理，因果关系清晰，角色行为符合其动机。总字数控制在{chapter_outline_length}。\n\n返回严格的JSON格式：\n{{\n  \\\"chapters\\\": [\n    {{\n      \\\"title\\\": \\\"反映章节核心内容的标题\\\",\n      \\\"outline\\\": \\\"基于角色动机的章节大纲，重点描述角色面临的选择、内心冲突、以及由此产生的行动和后果\\\"\n    }}\n  ]\n}}\n\n只返回JSON，不要任何额外说明。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "chapter_summary": {
    "base_prompt": "你是一位关注人物内心世界的小说家。为第{chapter_num}章创建一个深入而真实的章节概要：\n\n章节信息：{chapter}\n\n故事背景：{context_info}\n\n请创建一个展现角色真实内心和行为逻辑的章节概要，重点关注：\n\n**角色内心层面：**\n- 角色在这一章中面临什么具体的选择或困境？\n- 他们的内心冲突源于什么？是价值观的碰撞还是现实的压力？\n- 角色会如何根据自己的性格和过往经历来应对？\n- 这一章如何推进角色的内在成长或变化？\n\n**情节发展逻辑：**\n- 这一章的事件如何自然地从前面的情节发展而来？\n- 角色的行动如何基于他们的动机和性格？\n- 对话内容如何反映角色的真实想法和关系状态？\n- 环境和场景如何影响角色的情绪和决定？\n\n**元素协调：**\n- 场景设置如何服务于角色的心理状态？\n- 重要物品如何在角色的行动中自然出现和发挥作用？\n- 各个要素如何有机结合，避免生硬拼凑？\n\n【真实性要求】关注角色行为的合理性和必然性，让每个情节发展都有坚实的心理基础。避免为了制造效果而设计不合理的情节。\n\n【逻辑检查】确保角色行为符合其一贯的性格和动机，对话符合角色身份，情节发展自然合理。用{chapter_summary_length}字左右，直接输出概要，无需标题。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "novel_chapter": {
    "base_prompt": "你是一位文笔精湛的小说家，正在创作一部引人入胜的作品。请为第{chapter_num}章创作生动的小说正文：\n\n章节框架：{chapter}\n\n章节概要：{summary_info}\n\n故事背景：{context_info}\n\n请创作一个让读者沉浸其中的章节，特别注重元素间的有机融合：\n- 通过场景细节反映角色内心状态，让环境成为情感的外化\n- 让角色的对话和行动体现其性格特点，同时推动情节发展\n- 运用道具的象征意义，让物品承载情感和记忆的重量\n- 让场景转换配合情节节奏，环境变化暗示情感起伏\n- 通过感官描写将读者带入特定氛围，让场景与情节融为一体\n- 让人物与环境的互动展现角色成长和内心变化\n- 用细腻的心理描写连接外部世界与内心世界\n\n【逻辑检查】请确保所有描写都符合基本常识和物理法则，角色对话符合其身份和性格，情节推进自然合理，时间和空间的转换清晰。确保每个元素都不是孤立存在，而是相互呼应、相互推动的有机整体。字数控制在{novel_chapter_length}。直接输出小说正文，无需章节标题和说明。用第三人称全知视角，注重文学性和可读性的平衡。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "novel_critique": {
    "base_prompt": "你是一位严格的文学评论家，请对以下小说章节进行批判性分析，以JSON格式输出关键问题和改进建议：\n\n章节信息：\n标题：{chapter_title}\n章节号：第{chapter_num}章\n\n章节正文：\n{chapter_content}\n\n故事背景：{context_info}\n\n请从以下角度分析并输出JSON格式：\n\n**分析维度：**\n- 人物塑造（真实性、行为逻辑、情感表达）\n- 情节逻辑（因果关系、转折合理性、节奏控制）\n- 语言表达（流畅性、风格一致性、描写效果）\n- 读者体验（吸引力、理解难度、情感共鸣）\n\n**输出格式：**\n{{\n  \"issues\": [\n    {{\n      \"category\": \"问题类别(character/plot/language/experience)\",\n      \"problem\": \"具体问题描述（简洁）\",\n      \"suggestion\": \"改进建议（简洁）\"\n    }}\n  ],\n  \"strengths\": [\"保留的优点1\", \"保留的优点2\"],\n  \"priority_fixes\": [\"最需要修正的问题1\", \"最需要修正的问题2\"]\n}}\n\n要求：问题描述和建议都要简洁明了，每条不超过20字。总体控制在{novel_critique_length}。只返回JSON，不要其他文字。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  },
  "novel_refinement": {
    "base_prompt": "你是一位追求完美的小说家，请基于JSON格式的批评反馈对章节进行修正：\n\n原始章节信息：\n标题：{chapter_title}\n章节号：第{chapter_num}章\n\n原始章节正文：\n{original_content}\n\nJSON批评反馈：\n{critique_feedback}\n\n故事背景：{context_info}\n\n**修正要求：**\n1. 针对JSON中issues里的每个问题进行修正\n2. 优先处理priority_fixes中的关键问题\n3. 保持strengths中提到的优点不变\n4. 确保修正后符合故事背景和角色设定\n5. 保持原有的文学风格和叙事视角\n\n修正后的章节应该明显优于原版，读起来更加流畅自然。字数控制在{novel_chapter_length}左右。请直接输出修正后的完整章节正文，无需标题和说明。",
    "user_prompt_template": "{base_prompt}\n\n特别要求：{user_prompt}"
  }
} 